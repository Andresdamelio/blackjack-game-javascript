const moduleBlackjack=(()=>{"use strict";let e=[],t=[];const n=["C","D","H","S"],r=["A","J","Q","K"],a=document.querySelector("#btn-new"),s=document.querySelector("#btn-take"),o=document.querySelector("#btn-stop"),c=document.querySelectorAll("small"),l=document.querySelectorAll(".decks-container"),d=(n=2)=>{e=i(),t=new Array(n).fill(0),c.forEach(e=>e.innerText=0),l.forEach(e=>e.innerHTML=""),s.disabled=!1,o.disabled=!1},i=()=>{e=[];for(let t=2;t<=10;t++)for(const r of n)e.push(t+r);for(const t of n)for(const n of r)e.push(n+t);return _.shuffle(e)},u=()=>{if(!e.length)throw new Error("No hay mÃ¡s cartas");return e.pop()},m=(e,n)=>(t[n]=t[n]+(e=>{const t=e.substring(0,e.length-1);return isNaN(t)?"A"===t?11:10:parseInt(t)})(e),c[n].innerText=t[n],t[n]),f=(e,t)=>{const n=document.createElement("img");n.src=`assets/cartas/cartas/${e}.png`,n.classList.add("deck-image"),l[t].append(n)},h=e=>{let n=0;do{const e=u();n=m(e,t.length-1),f(e,t.length-1)}while(n<=e&&e<=21);(()=>{const[e,n]=t;setTimeout(()=>{n===e||n>21&&e>21?alert("Nadie gana :("):n<e&&n<=21&&21!==e?alert("Gana la computadora"):e<n&&e<=21&&21!==n&&alert("Ganaste")},100)})()};return a.addEventListener("click",()=>{d()}),s.addEventListener("click",()=>{const e=u(),t=m(e,0);f(e,0),t>21?(console.warn("Lo siento mucho, perdiste"),s.disabled=!0,o.disabled=!0,h(t)):21===t&&(console.log("21, genial"),s.disabled=!0,o.disabled=!0,h(t))}),o.addEventListener("click",()=>{s.disabled=!0,o.disabled=!0,h(t[0])}),{newGame:d}})();